
lesmseg.txt (under construction)


+-----------------------------------------------------------------------------+
|                                                                             |
|                                                                             |
|                 ---==---   GDPLib versjon 1.0   ---==---                    |
|                                                                             |
|                                                                             |
+-----------------------------------------------------------------------------+


Innhold
-------

1. Introduksjon
2. Kravspesifisering og design
3. Bruksanvisning


1. Introduksjon
---------------

Dette er et C -bibliotek som implementerer kjernefunksjonaliteten 
til et 'Gubberenn Dataprogram'. Dette er slikt som:

 * CRUD (Create, read, update, delete) konkurransen(e). 
 
 * CRUD (Create, read, update, delete) persondata.
 
 * CRUD (Create, read, update, delete) par-data.

 * tilfeldig par-nummer-trekking ifm påmelding.
  
 * generering av startliste med starttider.

 * registrering av slutt-tid pr par.

 * beregning av tidspoeng pr par.

 * registrering av oppgavepoeng pr par.

 * generering av resultatliste for en konkurranse.


2. Kravspesifisering og design
------------------------------

src -+
     |
     +- gdpl.h
     |
     +- person.c
     |
     +- par.c
     |
     +- konkuranse.c
     |
     +- kontroller.c     
     |
     +- test.c

Interfacet til biblioteket er definert i fila gdpl.h	 
	 
     
3. Bruksanvisning
-----------------

Brukeren av biblioteket vil være et program som implementerer et bruker-
grensesnitt. En normal kronologisk bruk av biblioteket kan være som følger:

3.1 Initiering
--------------

3.1.1)
Initier biblioteket mht lognivå og loggmedium.

int GDPL_init(GDPL_log_type nivaa, FILE * stream); 

3.1.2)
Angi hvilken datafil som skal benyttes. Om man her angir en nullpeker, 
vil biblioteket benytte ei default datafil.

int GDPL_kontroller_angi_filnavn(const char *filnavn);

3.1.3)
Les data fra datafil. 

int GDPL_kontroller_les_fra_fil();


3.2 Registrering av deltakere og par
------------------------------------

3.2.1)
Siden programmet skal velge et tilfeldig par-nummer for en deltaker,
må vi på forhand estimere hvor mange par vi tror kommmer til å delta. 

int GDPL_kontroller_angi_max_antall_par(int antall)

3.2.2)
Registrer en deltaker.

int GDPL_kontroller_registrer_deltaker(GDPL_person_data_node data, int type)

3.2.3)
Trekk et tilfeldig par-nummer for denne deltakeren.

int GDPL_kontroller_hent_par_id(int *par_id, int type)

3.2.4)
Oppdater det aktuelle par-objektet med den aktuelle brukeren.

int GDPL_kontroller_oppdater_par(int par_id, int person_id, int type)


Nå gjentas punktene 3.2.2 til 3.2.4 så lenge som nødvendig. 'På slutten' kan 
man droppe å bruke den tilfeldige par-nummer-generatoren, og mer eller mindre 
manuelt fylle opp de siste plassene. På slutten må man uansett trikse litt, 
for å få fylt opp alle parene. Somregel må et par betså av to damer eller to 
herrer.


3.3 Generer ei startliste
-------------------------

3.3.1)
Opprett ei startliste, hvor man angir når tid man skal begynne å starte, 
samt intervallene mellom hvert par.

int GDPL_kontroller_opprett_startliste( char *startid, char* intervall)


3.4 Registrer resultater
------------------------

3.4.1)
Registrer innkomst tid. Programmet beregner anvendt tid per par, samt middel-
tiden totalt i konkurransen. Tidspoeng beregnes utfra avvik fra middeltid.

int GDPL_kontroller_registrer_tid( int par_id, char *tid)


3.4.2)
Registrer oppgavepoeng.

int GDPL_kontroller_registrer_oppgavepoeng( int par_id, double poeng)


3.4 Generer resultatliste
-------------------------

int GDPL_kontroller_opprett_resultatliste()



- The End -

